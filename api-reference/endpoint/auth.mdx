---
title: 'Authentication'
openapi: 'POST /auth/token'
---

## Overview

The partner authentication endpoint allows trusted third-party partners to exchange their issued API credentials for a JWT (JSON Web Token) that can be used to authenticate subsequent API requests on behalf of their clients.

## Request

### Headers

-   `Content-Type: application/json`

### Body Parameters

<ParamField path="api_key" type="string" required>
    Your unique API key issued by Targeter for your approved partnership
</ParamField>

<ParamField path="api_secret" type="string" required>
    Your secure API secret issued by Targeter for your approved partnership
</ParamField>

### Example Request

```bash
curl -X POST "https://storhaug.targeter.tech/api/auth/token" \
  -H "Content-Type: application/json" \
  -d '{
    "api_key": "YOUR_ISSUED_PARTNER_KEY",
    "api_secret": "YOUR_ISSUED_PARTNER_SECRET"
  }'
```

## Response

### Success Response (200)

<ResponseField name="access_token" type="string">
    JWT token to be used in Authorization header for subsequent requests
</ResponseField>

<ResponseField name="token_type" type="string">
    Token type (always "Bearer")
</ResponseField>

<ResponseField name="expires_in" type="integer">
    Token validity in seconds (3600 = 1 hour)
</ResponseField>

### Example Response

```json
{
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "token_type": "Bearer",
    "expires_in": 3600
}
```

## Error Responses

### 400 - Invalid Request

```json
{
    "error": "Invalid request payload"
}
```

### 401 - Invalid Credentials

```json
{
    "error": "Invalid credentials"
}
```

### 500 - Server Error

```json
{
    "error": "Internal server error"
}
```

## Usage Notes

-   **Token Expiration**: JWT tokens expire after 1 hour for security
-   **Refresh**: You must obtain a new token when the current one expires
-   **Security**: Never expose your issued API secret in client-side code - these are for server-to-server communication only
-   **Storage**: Store tokens securely and refresh them before expiration
-   **Credentials**: Only use API credentials issued specifically to your approved partnership

## Next Steps

Once you have your JWT token, you can use it to make authenticated requests on behalf of your clients:

```bash
curl -X POST "https://storhaug.targeter.tech/api/campaign" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{ ... }'
```
